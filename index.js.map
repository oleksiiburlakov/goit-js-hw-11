{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const list = document.querySelector('.list');\n\nexport function renderImages(images) {\n    return images.map(imgTemplate).join('');\n\n}\n\nexport function imgTemplate(img) {\n    return `\n    <li class='elem-list'>\n        <div class=\"gallery\">\n            <a href=\"${img.largeImageURL}\">\n                <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" title=\"${img.tags}\" class='image'/>\n            </a>\n            <div class=\"image-info\">\n                <p><strong>Likes:</strong> ${img.likes}</p>\n                <p><strong>Views:</strong> ${img.views}</p>\n                <p><strong>Comments:</strong> ${img.comments}</p>\n                <p><strong>Downloads:</strong> ${img.downloads}</p>\n            </div>\n        </div>\n        </li>`;\n}","import { renderImages } from './render-function.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst loader = document.querySelector('.loader');\nconst list = document.querySelector('.list');\nloader.style.display = 'none';\n\nconst key = '48878518-9063069941d99e969b9b19843';\nconst baseUrl = 'https://pixabay.com/api/';\n\nexport function findMyFetch(query){\n    loader.style.display = '';\n    const url = `${baseUrl}?key=${key}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    return fetch(url)\n    .then(res => {\n        loader.style.display = 'none';\n        if(!res.ok){\n            throw new Error('No matching images');\n        } else {\n            return res.json();\n        }\n    })\n    .then(data => {\n        loader.style.display = 'none';\n        if (!data.hits || data.hits.length === 0) {\n            list.innerHTML = '';\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                timeout: 5000,\n                position: 'topRight',\n            });\n        } else {\n            const markup = renderImages(data.hits);\n            list.innerHTML = markup;\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captions: true,\n                captionsData: 'alt',\n                captionDelay: 250,\n                animationSlide: true, });\n            lightbox.refresh();\n        }\n    })\n    .catch(err => {\n        iziToast.error({\n            message: err.message,\n            timeout: 5000,\n            position: 'topRight',\n        })\n        loader.style.display = 'none';\n    });\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { findMyFetch } from './js/pixabay-api.js';\n\nconst input = document.querySelector('#text');\nconst list = document.querySelector('.list');\nconst btn = document.querySelector('.search');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nlet val = '';\n\ninput.addEventListener('input', ev =>{\n    val = ev.target.value;\n    if(val.trim() === ''){\n        input.value = '';\n    }\n});\n\nbtn.addEventListener('click', ev => {\n    ev.preventDefault();\n    if(val.length === 0 || val.trim() === ''){\n        list.innerHTML = '';\n        return iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            timeout: 5000,\n            position: 'topRight',\n        })\n    } else{\n        list.innerHTML = '';\n        findMyFetch(val);\n    }\n})"],"names":["renderImages","images","imgTemplate","img","loader","list","key","baseUrl","findMyFetch","query","url","res","data","iziToast","markup","SimpleLightbox","err","input","btn","val","ev"],"mappings":"6vBAAa,SAAS,cAAc,OAAO,EAEpC,SAASA,EAAaC,EAAQ,CACjC,OAAOA,EAAO,IAAIC,CAAW,EAAE,KAAK,EAAE,CAE1C,CAEO,SAASA,EAAYC,EAAK,CAC7B,MAAO;AAAA;AAAA;AAAA,uBAGYA,EAAI,aAAa;AAAA,4BACZA,EAAI,YAAY,UAAUA,EAAI,IAAI,YAAYA,EAAI,IAAI;AAAA;AAAA;AAAA,6CAGrCA,EAAI,KAAK;AAAA,6CACTA,EAAI,KAAK;AAAA,gDACNA,EAAI,QAAQ;AAAA,iDACXA,EAAI,SAAS;AAAA;AAAA;AAAA,cAI9D,CCjBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,OAAO,EAC3CD,EAAO,MAAM,QAAU,OAEvB,MAAME,EAAM,qCACNC,EAAU,2BAET,SAASC,EAAYC,EAAM,CAC9BL,EAAO,MAAM,QAAU,GACvB,MAAMM,EAAM,GAAGH,CAAO,QAAQD,CAAG,MAAM,mBAAmBG,CAAK,CAAC,2DAChE,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAO,CAET,GADAP,EAAO,MAAM,QAAU,OACnBO,EAAI,GAGJ,OAAOA,EAAI,OAFX,MAAM,IAAI,MAAM,oBAAoB,CAIhD,CAAK,EACA,KAAKC,GAAQ,CAEV,GADAR,EAAO,MAAM,QAAU,OACnB,CAACQ,EAAK,MAAQA,EAAK,KAAK,SAAW,EACnCP,EAAK,UAAY,GACjBQ,EAAS,MAAM,CACX,QAAS,2EACT,QAAS,IACT,SAAU,UAC1B,CAAa,MACE,CACH,MAAMC,EAASd,EAAaY,EAAK,IAAI,EACrCP,EAAK,UAAYS,EACA,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,EAAI,CAAG,EAClB,QAAO,CACnB,CACT,CAAK,EACA,MAAMC,GAAO,CACVH,EAAS,MAAM,CACX,QAASG,EAAI,QACb,QAAS,IACT,SAAU,UACtB,CAAS,EACDZ,EAAO,MAAM,QAAU,MAC/B,CAAK,CACL,CC9CA,MAAMa,EAAQ,SAAS,cAAc,OAAO,EACtCZ,EAAO,SAAS,cAAc,OAAO,EACrCa,EAAM,SAAS,cAAc,SAAS,EACtCd,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,IAAIe,EAAM,GAEVF,EAAM,iBAAiB,QAASG,GAAK,CACjCD,EAAMC,EAAG,OAAO,MACbD,EAAI,KAAM,IAAK,KACdF,EAAM,MAAQ,GAEtB,CAAC,EAEDC,EAAI,iBAAiB,QAASE,GAAM,CAEhC,GADAA,EAAG,eAAc,EACdD,EAAI,SAAW,GAAKA,EAAI,KAAM,IAAK,GAClC,OAAAd,EAAK,UAAY,GACVQ,EAAS,MAAM,CAClB,QAAS,2EACT,QAAS,IACT,SAAU,UACtB,CAAS,EAEDR,EAAK,UAAY,GACjBG,EAAYW,CAAG,CAEvB,CAAC"}